{"meta":{"title":"凭海听涛","subtitle":"Java学习博客","description":"我是一个要努力成为大佬的菜鸡！","author":"Tao","url":"https://jiyezt.co","root":"/"},"pages":[{"title":"","date":"2022-03-22T03:34:12.846Z","updated":"2022-03-22T03:34:12.846Z","comments":true,"path":"404.html","permalink":"https://jiyezt.co/404.html","excerpt":"","text":"404 很抱歉，您访问的页面不存在 可能是输入地址有误或该地址已被删除"},{"title":"所有分类","date":"2022-03-22T03:21:38.235Z","updated":"2022-03-22T03:21:38.235Z","comments":true,"path":"categories/index.html","permalink":"https://jiyezt.co/categories/index.html","excerpt":"","text":""},{"title":"","date":"2022-03-21T12:22:58.683Z","updated":"2022-03-21T12:22:58.683Z","comments":true,"path":"about/index.html","permalink":"https://jiyezt.co/about/index.html","excerpt":"","text":"是一个小菜鸡，努力学习中…"},{"title":"膜拜大佬集中地","date":"2022-03-23T09:48:41.712Z","updated":"2022-03-23T09:48:41.712Z","comments":true,"path":"friends/index.html","permalink":"https://jiyezt.co/friends/index.html","excerpt":"小菜鸡的大佬膜拜页，每天一拜，知识飞来~","text":"小菜鸡的大佬膜拜页，每天一拜，知识飞来~"},{"title":"","date":"2022-03-22T03:24:12.281Z","updated":"2022-03-22T03:24:12.281Z","comments":true,"path":"mylist/index.html","permalink":"https://jiyezt.co/mylist/index.html","excerpt":"","text":""},{"title":"所有标签","date":"2022-03-22T03:22:54.140Z","updated":"2022-03-22T03:22:54.140Z","comments":true,"path":"tags/index.html","permalink":"https://jiyezt.co/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"实现在CentOS上非root用户免密登录","slug":"实现在CentOS上非root用户免密登录","date":"2022-03-23T12:13:02.000Z","updated":"2022-03-23T13:12:00.445Z","comments":true,"path":"2022/03/23/实现在CentOS上非root用户免密登录/","link":"","permalink":"https://jiyezt.co/2022/03/23/%E5%AE%9E%E7%8E%B0%E5%9C%A8CentOS%E4%B8%8A%E9%9D%9Eroot%E7%94%A8%E6%88%B7%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/","excerpt":"本文是记录一下在搭建腾讯云服务器时，解决非root用户登录需要输入密码的问题。","text":"本文是记录一下在搭建腾讯云服务器时，解决非root用户登录需要输入密码的问题。 1、创建SSH密钥并绑定用户 首先在本地创建ssh密钥,密钥位置为&#x2F;user&#x2F;.ssh1ssh-keygen -t rsa -C &quot;your email&quot; .ssh文件夹内有id_rsa和id_rsa.pub两个文件，其中id_rsa.pub是公钥，将公钥上传到腾讯云并绑定云服务器。 2、创建新用户 使用SSH连接云服务器1ssh root@jiyezt.co 如果使用的是已经存在的密钥，可能登录失败，需要删除本地机.ssh文件夹下的known_hosts即可。 创建新用户并设置密码12[root@centos ~]# useradd -m -G wheel tao[root@centos ~]# passwd tao 3、配置新用户密钥文件 查看&#x2F;root&#x2F;.ssh文件夹下的authorized_keys文件，复制公钥。1[root@centos ~]# cat .ssh/authorized_keys 进入新用户目录下，新建.ssh文件夹，创建新文件authorized_keys，将复制的公钥放入。1234[root@centos ~]# cd /home/tao[root@centos tao]# mkdir .ssh[root@centos tao]# cd .ssh[root@centos .ssh]# vim authorized_keys 3、调整文件夹和文件的权限 调整权限12[root@centos .ssh]# chmod 700 ~/.ssh[root@centos .ssh]# chmod 600 ~/.ssh/authorized_keys 修改&#x2F;etc&#x2F;ssh&#x2F;sshd_config，设置以下配置项12AuthorizedKeysFile .ssh/authorized_keysPubkeyAuthentication yes","categories":[{"name":"Notes","slug":"Notes","permalink":"https://jiyezt.co/categories/Notes/"},{"name":"CentOS","slug":"Notes/CentOS","permalink":"https://jiyezt.co/categories/Notes/CentOS/"}],"tags":[{"name":"CentOS","slug":"CentOS","permalink":"https://jiyezt.co/tags/CentOS/"},{"name":"SSH","slug":"SSH","permalink":"https://jiyezt.co/tags/SSH/"}]},{"title":"Hexo+Nginx+腾讯云搭建个人博客","slug":"Hexo-Nginx-腾讯云搭建个人博客","date":"2022-03-23T06:38:45.000Z","updated":"2022-03-23T13:12:00.452Z","comments":true,"path":"2022/03/23/Hexo-Nginx-腾讯云搭建个人博客/","link":"","permalink":"https://jiyezt.co/2022/03/23/Hexo-Nginx-%E8%85%BE%E8%AE%AF%E4%BA%91%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/","excerpt":"","text":"一、服务器搭建1、前期准备* 购买云服务器，本文采用的是腾讯云 * 购买域名并解析到服务器IP * 申请SSL证书，一般会赠送一年 * 提交网站备案 2、搭建Git远程仓库 安装Git12yum install -y gitgit version 如果版本较低，可以自行下载编译安装并配置环境变量。由于够用，此处不再赘述。 创建git用户并授权1234567adduser gitpasswd gitsu //如果是普通用户登录的服务器则需要su进入root用户vim /etc/sudoers//修改sudoers，给git授权root ALL=(ALL) ALLgit ALL=(ALL) ALL 3.配置git用户密钥本地机创建密钥 1ssh-keygen -t rsa -C &quot;youremail&quot; 进入git用户目录创建密钥文件 1234cd /home/gitmkdir .sshcd .sshvim authorized_keys 将公钥文件粘贴进去即可。完成后测试连接。 1ssh -v git@(ServerIP) 调整文件夹和文件的权限12[root@centos .ssh]# chmod 700 ~/.ssh[root@centos .ssh]# chmod 600 ~/.ssh/authorized_keys 创建网站目录并配置权限12mkdir /home/blogchown git:git -R /home/blog 创建Git远程仓库123cd /home/gitgit init --bare blog.gitchown git:git -R blog.git 同步网站根目录1234vim /blog.git/hooks/post-receive# !/bin/shgit --work-tree=/home/blog --git-dir=/home/git/blog.git checkout -f 修改权限1chmod +x /home/git/blog.git/hooks/post-receive 3、Nginx安装和配置 安装Nginx并设置开机自启123yum install nginxsystemctl enable nginxsystemctl start nginx 访问服务器IP地址，若出现Nginx信息，则Nginx成功启用。 修改Nginx配置文件12345678vim /etc/nginx/nginx.conf//修改http里面的server配置server &#123; listen 80 default_server; listen [::]:80 default_server; server_name jiyezt.co; //域名 root /home/blog; //网站目录&#125; 4、Nginx部署SSL证书 SSL证书下载 安装WinSCP: https://winscp.net/eng/index.php 将SSL中的Nginx下的两个文件通过WinSCP复制到&#x2F;etc&#x2F;ssl文件夹下。 配置Nginx的https连接1vim /etc/nginx/nginx.conf 首先将最下方的Server{}的注释给解除，然后修改如下配置：1234567891011121314//配置项过多，仅列出需要更改的项，其他项取消注释即可Server &#123; listen 443 ssl; server_name jiyezt.co; root /home/blog; ssl_certificate /etc/ssl/1_jiyezt.co_bundle.crt; ssl_certificate_key /etc/ssl/2_jiyezt.co.key; location / &#123; root /home/blog; index index.html; &#125; &#125; 配置Nginx将http请求转发到https1234//方法1rewrite ^(.*)$ https://$host$1 permanent;//方法2return 301 https://$server_name$request_uri; 二、本地配置1、安装Hexo 安装Node.js官网：https://nodejs.org/en/中文网站：http://nodejs.cn/download/选择LTS版本下载，下载好之后一路下一步安装即可。12node -vnpm -v 能获取到版本则安装成功。安装之后可以修改全局安装地址，可以参考这篇博客：Node.js更换全局安装位置 安装Hexo12npm install -g hexo-clinpm install -g hexo-server 如果下载速度过慢，可以将npm修改为淘宝源，然后安装cnpm，使用cnpm安装Hexo。123456npm install nrm -gnrm use taobaonpm install -g cnpm --registry=https://registry.npm.taobao.orgcnpm install -g hexo-clicnpm install -g hexo-serverhexo v 能读取到Hexo版本信息则安装成功。2、生成博客 选择博客文件本地位置，右键在文件夹中打开终端123hexo init //hexo初始化npm install hexo-deployer-git --savenpm install hexo-server --save 打开目录下的_config.yml,修改如下内容1234deploy: type: git repo: git@(Server IP)/home/git/blog.git branch: master Hexo基本操作1234hexo n &quot;blogName&quot;hexo g //生成静态页面hexo d //部署到云服务器,之后需要在云服务器重新加载一次nginxhexo s //本地开启服务器，有云服务器不需要这个 到此Blog就能正常使用了。当然目前为止使用的是默认主题，更多功能可以参考Hexo官网文档。","categories":[{"name":"Notes","slug":"Notes","permalink":"https://jiyezt.co/categories/Notes/"},{"name":"CentOS","slug":"Notes/CentOS","permalink":"https://jiyezt.co/categories/Notes/CentOS/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://jiyezt.co/tags/Nginx/"},{"name":"Hexo","slug":"Hexo","permalink":"https://jiyezt.co/tags/Hexo/"},{"name":"CentOS","slug":"CentOS","permalink":"https://jiyezt.co/tags/CentOS/"}]},{"title":"Node.js更换全局安装位置","slug":"Node.js更换全局安装位置","date":"2022-03-23T04:47:30.000Z","updated":"2022-03-23T12:14:27.718Z","comments":true,"path":"2022/03/23/Node.js更换全局安装位置/","link":"","permalink":"https://jiyezt.co/2022/03/23/Node.js%E6%9B%B4%E6%8D%A2%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85%E4%BD%8D%E7%BD%AE/","excerpt":"","text":"1、查看当前配置信息 查看所有配置信息1npm config ls 查看npm缓存目录1npm config get cache 查看npm全局目录12npm config get prefixnpm root -g 2、修改全局安装目录和缓存目录 修改配置12npm config set prefix D:\\Develop\\nodejs\\npmnpm config set cache D:\\Develop\\nodejs\\npm_cache 此时再次查看配置信息1npm config ls 此时对于安装目录和缓存目录已经修改完成，配置文件在user目录下的.npmrc,如果需要重置，删除配置文件即可。但是修改好后，全局安装后的指令并不能被识别，还需要修改用户变量。 3、修改环境变量系统环境变量不需要改动，修改用户变量的Path,将D:\\Develop\\nodejs\\npm覆盖掉原本的变量。","categories":[{"name":"Notes","slug":"Notes","permalink":"https://jiyezt.co/categories/Notes/"},{"name":"Node.js","slug":"Notes/Node-js","permalink":"https://jiyezt.co/categories/Notes/Node-js/"}],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"https://jiyezt.co/tags/Node-js/"}]}],"categories":[{"name":"Notes","slug":"Notes","permalink":"https://jiyezt.co/categories/Notes/"},{"name":"CentOS","slug":"Notes/CentOS","permalink":"https://jiyezt.co/categories/Notes/CentOS/"},{"name":"Node.js","slug":"Notes/Node-js","permalink":"https://jiyezt.co/categories/Notes/Node-js/"}],"tags":[{"name":"CentOS","slug":"CentOS","permalink":"https://jiyezt.co/tags/CentOS/"},{"name":"SSH","slug":"SSH","permalink":"https://jiyezt.co/tags/SSH/"},{"name":"Nginx","slug":"Nginx","permalink":"https://jiyezt.co/tags/Nginx/"},{"name":"Hexo","slug":"Hexo","permalink":"https://jiyezt.co/tags/Hexo/"},{"name":"Node.js","slug":"Node-js","permalink":"https://jiyezt.co/tags/Node-js/"}]}